<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Visualize Monthly Water Balance — plotWB • sharpshootR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Visualize Monthly Water Balance — plotWB"><meta property="og:description" content='This function offers one possible visualization for the results of monthlyWB(). Note that "surplus" water is stacked on top of "actual ET", and "deficit" water is stacked below "storage". Calculate actual values for "surplus" and "deficit" from the figure like this:
surplus value = surplus - AET
deficit value = deficit - storage

'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sharpshootR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/sharpshootR-overview.html">An Overview of the sharpshootR Package</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ncss-tech/sharpshootR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Visualize Monthly Water Balance</h1>
    <small class="dont-index">Source: <a href="https://github.com/ncss-tech/sharpshootR/blob/HEAD/R/plotWB.R" class="external-link"><code>R/plotWB.R</code></a></small>
    <div class="hidden name"><code>plotWB.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function offers one possible visualization for the results of <code><a href="monthlyWB.html">monthlyWB()</a></code>. Note that "surplus" water is stacked on top of "actual ET", and "deficit" water is stacked below "storage". Calculate actual values for "surplus" and "deficit" from the figure like this:</p><ul><li><p>surplus value = surplus - AET</p></li>
<li><p>deficit value = deficit - storage</p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plotWB</span><span class="op">(</span></span>
<span>  <span class="va">WB</span>,</span>
<span>  AWC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">WB</span>, <span class="st">"AWC"</span><span class="op">)</span>,</span>
<span>  sw.col <span class="op">=</span> <span class="st">"#377EB8"</span>,</span>
<span>  surplus.col <span class="op">=</span> <span class="st">"#4DAF4A"</span>,</span>
<span>  et.col <span class="op">=</span> <span class="st">"#E41A1C"</span>,</span>
<span>  deficit.col <span class="op">=</span> <span class="st">"#FF7F00"</span>,</span>
<span>  pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">21</span>, <span class="fl">21</span><span class="op">)</span>,</span>
<span>  pt.cex <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  pt.col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"bg"</span><span class="op">)</span>,</span>
<span>  pt.bg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"fg"</span><span class="op">)</span>,</span>
<span>  lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  n.ticks <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  grid.col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grey</a></span><span class="op">(</span><span class="fl">0.65</span><span class="op">)</span>,</span>
<span>  month.cex <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  legend.cex <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  <span class="va">ylim</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>WB</dt>
<dd><p>output from <code><a href="monthlyWB.html">monthlyWB()</a></code></p></dd>


<dt>AWC</dt>
<dd><p>available water-holding capacity (mm), typically the value used in <code><a href="monthlyWB.html">monthlyWB()</a></code> and stored as an attribute of <code>WB</code></p></dd>


<dt>sw.col</dt>
<dd><p>color for soil water ("storage)</p></dd>


<dt>surplus.col</dt>
<dd><p>color for surplus water</p></dd>


<dt>et.col</dt>
<dd><p>color for ET</p></dd>


<dt>deficit.col</dt>
<dd><p>color for deficit</p></dd>


<dt>pch</dt>
<dd><p>plotting character for PPT and PET points</p></dd>


<dt>pt.cex</dt>
<dd><p>character expansion factor for PPT and PET points</p></dd>


<dt>pt.col</dt>
<dd><p>point symbol color for PPT and PET points</p></dd>


<dt>pt.bg</dt>
<dd><p>point symbol background color for PPT and PET points</p></dd>


<dt>lty</dt>
<dd><p>line type for PPT and PET lines (<code>c(1, 2)</code>)</p></dd>


<dt>lwd</dt>
<dd><p>line width for PPT and PET curves</p></dd>


<dt>n.ticks</dt>
<dd><p>approximate number of tick marks on positive and negative y-axis</p></dd>


<dt>grid.col</dt>
<dd><p>horizontal grid line color</p></dd>


<dt>month.cex</dt>
<dd><p>scaling factor for month labels (x-axis)</p></dd>


<dt>legend.cex</dt>
<dd><p>scaling factor for legend</p></dd>


<dt>ylim</dt>
<dd><p>optional vector of y-axis limits, <code>c(-min, max)</code>, typically used when comparing drastically different water balances in the same figure. Default limits are usually best for a single water balance plot.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>nothing, function is called to generate graphical output</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>You may have to adjust figure margins and size to get all of the elements to "look right".</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>D.E. Beaudette and J.M. Skovlin</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">'hydromad'</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## A shallow / droughty soil near Sonora CA </span></span></span>
<span class="r-in"><span><span class="co"># 100mm (4") AWC</span></span></span>
<span class="r-in"><span><span class="va">AWC</span> <span class="op">&lt;-</span> <span class="fl">100</span></span></span>
<span class="r-in"><span><span class="va">PPT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">171</span>, <span class="fl">151</span>, <span class="fl">138</span>, <span class="fl">71</span>, <span class="fl">36</span>, <span class="fl">7</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">11</span>, <span class="fl">48</span>, <span class="fl">102</span>, <span class="fl">145</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">PET</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15.17</span>, <span class="fl">18.26</span>, <span class="fl">30.57</span>, <span class="fl">42.95</span>, <span class="fl">75.37</span>, <span class="fl">108.05</span>, <span class="fl">139.74</span>, <span class="fl">128.9</span>, <span class="fl">93.99</span>, <span class="fl">59.84</span>, <span class="fl">26.95</span>, <span class="fl">14.2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># water-year</span></span></span>
<span class="r-in"><span><span class="co"># three years</span></span></span>
<span class="r-in"><span><span class="va">x.wb</span> <span class="op">&lt;-</span> <span class="fu"><a href="monthlyWB.html">monthlyWB</a></span><span class="op">(</span><span class="va">AWC</span>, <span class="va">PPT</span>, <span class="va">PET</span>, S_init <span class="op">=</span> <span class="fl">0</span>, starting_month <span class="op">=</span> <span class="fl">9</span>, rep <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x.wb</span><span class="op">[</span><span class="va">x.wb</span><span class="op">$</span><span class="va">mo</span> <span class="op">==</span> <span class="st">'Sep'</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot all three years</span></span></span>
<span class="r-in"><span><span class="fu">plotWB</span><span class="op">(</span><span class="va">x.wb</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># water-year / last iteration</span></span></span>
<span class="r-in"><span><span class="va">x.wb</span> <span class="op">&lt;-</span> <span class="fu"><a href="monthlyWB.html">monthlyWB</a></span><span class="op">(</span><span class="va">AWC</span>, <span class="va">PPT</span>, <span class="va">PET</span>, S_init <span class="op">=</span> <span class="fl">0</span>, </span></span>
<span class="r-in"><span>                  starting_month <span class="op">=</span> <span class="fl">9</span>, rep <span class="op">=</span> <span class="fl">3</span>, </span></span>
<span class="r-in"><span>                  keep_last <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot</span></span></span>
<span class="r-in"><span><span class="fu">plotWB</span><span class="op">(</span><span class="va">x.wb</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Drummer series (Fine-silty, mixed, superactive, mesic Typic Endoaquolls), southern IL</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">AWC</span> <span class="op">&lt;-</span> <span class="fl">244</span></span></span>
<span class="r-in"><span><span class="va">PPT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">36</span>, <span class="fl">37</span>, <span class="fl">54</span>, <span class="fl">82</span>, <span class="fl">98</span>, <span class="fl">96</span>, <span class="fl">92</span>, <span class="fl">75</span>, <span class="fl">69</span>, <span class="fl">70</span>, <span class="fl">65</span>, <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">PET</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">12</span>, <span class="fl">46</span>, <span class="fl">90</span>, <span class="fl">130</span>, <span class="fl">145</span>, <span class="fl">128</span>, <span class="fl">88</span>, <span class="fl">46</span>, <span class="fl">14</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using calendar year</span></span></span>
<span class="r-in"><span><span class="va">x.wb</span> <span class="op">&lt;-</span> <span class="fu"><a href="monthlyWB.html">monthlyWB</a></span><span class="op">(</span><span class="va">AWC</span>, <span class="va">PPT</span>, <span class="va">PET</span>, S_init <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                  starting_month <span class="op">=</span> <span class="fl">1</span>, rep <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                  keep_last <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">plotWB</span><span class="op">(</span><span class="va">x.wb</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required namespace: hydromad</span>
<span class="r-plt img"><img src="plotWB-1.png" alt="" width="768" height="475"></span>
<span class="r-plt img"><img src="plotWB-2.png" alt="" width="768" height="475"></span>
<span class="r-plt img"><img src="plotWB-3.png" alt="" width="768" height="475"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dylan Beaudette, Jay Skovlin, Stephen Roecker, Andrew Brown.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

